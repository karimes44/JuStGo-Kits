<!-- ![9]! -->
<!-- ![0+]! -->
<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <title>Mastermind$STREAM$</title>
<!-- _______________________________________________________________ -->
<style>
/* ![1+]! */
.c1 { background-color: red;    }
.c2 { background-color: orange; }
.c3 { background-color: green;  }
.c4 { background-color: teal;   }
.c5 { background-color: blue;   }
.c6 { background-color: purple; }
.answer_color { background-color: lightgray; }
.answer_spot  { background-color: pink; }
/* ![2+]! */

h1 {
 font-family: "Helvetica";
 font-size:    18pt;
 margin-left:  10pt;
 color:        navy; }

table {
 margin:  auto;
 font-family:  "Helvetica";
 font-weight:  bold;
 font-size:    18pt;
 border-collapse: collapse;
 border:       1px solid black;
}

td, th {
 height:       40px;
 width:        40px;
 text-align:   center;
 padding:      4px;
 margin:       0px;
 border-collapse: collapse;
 border:       1px solid black;
}
/* ![4+]! */

.board {
 width: 600px;
 text-align: center;
}

.sel { margin-top: 20px; }

label { padding: 15px; }
/* ![7+]! */

.hide {
 display: none;
}
/* ![8+]! */

details {
 width: 600px;
 margin: 50px;
 font-family: "Helvetica";
 font-size:    14pt;
 margin-left:  20pt; }
 /* ![0+]! */
</style>

<!-- _______________________________________________________________ -->
<script>
// ![5+]!
var Code = [];

function Random() {
 for (let i=0; i<4;i++) {	
  let r = Math.ceil(Math.random() * 6);
  Code.push('c'+r);
  document.getElementById('a'+i).className = 'c'+r;
 }
 //alert(Code);
}

// ![4+]!
function SetColor(N) {
 let Col = document.forms.SetColorColor.elements.Color.value;
 //alert(Col)
 document.getElementById(N).className = Col;
}

// ![8+]!
function Reveal() {
 document.getElementById('code').className = 'show';
 document.getElementById('rvl').innerHTML = '<button><a href="Mastermind.html">New Game?</a></button>';
}
// ![6+]!

function Eval(R) {
 let RSpot   = 0;
 let RColor  = 0;
 let Guesses = [];
 let ColCode = [];
 for (let i=0; i<4;i++) {
  let Guess = document.getElementById(R*4+i).className
  //alert(Guess)
  if (Guess == Code[i]) {
   RSpot++;
  } else {
   Guesses.push(Guess);
   ColCode.push(Code[i]);
  }
 }
 document.getElementById('r'+R).innerHTML = RSpot;

 for (let i=0; i<Guesses.length;i++) {
  index = ColCode.indexOf(Guesses[i])
  //alert(index + '-' + i + ':'+ Guesses + '|' + ColCode);
  if (index > -1) {
   RColor++;
   ColCode.splice(index,1);
   //alert(ColCode);
  }
 }
 document.getElementById('c'+R).innerHTML = RColor;
 // ![8+]!
 document.getElementById('b'+R).innerHTML = '';
 if ( RSpot == 4 ) {
  Reveal();
  alert('Congratulation - You solved the code after ' + (R+1) + ' guesses!')
 }
 // ![6+]!
}
// ![0+]!
</script>
</head>
<!-- _______________________________________________________________ -->
<!-- ![0-4]!
<body>
<!-- ![5+]! -->
<body onload='Random()'>
<!-- ![0+]! -->
<h1>Mastermind</h1>

<!-- ![4+]! -->
<div class='board'>
<!-- ![1+]! -->
 <table>

  <tr>
   <th colspan='4'>Your Guesses</th>
<!-- ![1-7]! 
   <th></th>
<!-- ![8+]! -->
   <th id='rvl'><button onclick='Reveal()'>Reveal</button></th> 
<!-- ![1+]! -->
   <th colspan='2'>Answer</th>
  </tr>
<!-- ![1-2]!

  <tr>
   <td class='c1'>&nbsp;</td>
   <td class='c2'>&nbsp;</td>
   <td class='c3'>&nbsp;</td>
   <td class='c4'>&nbsp;</td>
   <td><button>Check</button></td>
   <td class='answer_spot'>&nbsp;</td>
   <td class='answer_color'>&nbsp;</td>
  </tr>

  <tr>
   <td class='c5'>&nbsp;</td>
   <td class='c6'>&nbsp;</td>
   <td>&nbsp;</td>
   <td>&nbsp;</td>
   <td><button>Check</button></td>
   <td class='answer_spot'>&nbsp;</td>
   <td class='answer_color'>&nbsp;</td>
  </tr>

  <tr>
   <td>&nbsp;</td>
   <td>&nbsp;</td>
   <td>&nbsp;</td>
   <td>&nbsp;</td>
   <td><button>Check</button></td>
   <td class='answer_spot'>&nbsp;</td>
   <td class='answer_color'>&nbsp;</td>
  </tr>

  <tr>
   <td>&nbsp;</td>
   <td>&nbsp;</td>
   <td>&nbsp;</td>
   <td>&nbsp;</td>
   <td><button>Check</button></td>
   <td class='answer_spot'>&nbsp;</td>
   <td class='answer_color'>&nbsp;</td>
  </tr>
<!-- ![3-5]!

<tr>
   <td id= '0' onclick='SetColor( 0)' class='c1'>&nbsp;</td>
   <td id= '1' onclick='SetColor( 1)' class='c2'>&nbsp;</td>
   <td id= '2' onclick='SetColor( 2)' class='c3'>&nbsp;</td>
   <td id= '3' onclick='SetColor( 3)' class='c4'>&nbsp;</td>
   <td><button>Check</button></td>
   <td class='answer_spot'>&nbsp;</td>
   <td class='answer_color'>&nbsp;</td>
  </tr>

  <tr>
   <td id= '4' onclick='SetColor( 4)' class='c5'>&nbsp;</td>
   <td id= '5' onclick='SetColor( 5)' class='c6'>&nbsp;</td>
   <td id= '6' onclick='SetColor( 6)'>&nbsp;</td>
   <td id= '7' onclick='SetColor( 7)'>&nbsp;</td>
   <td><button>Check</button></td>
   <td class='answer_spot'>&nbsp;</td>
   <td class='answer_color'>&nbsp;</td>
  </tr>

  <tr>
   <td id= '8' onclick='SetColor( 8)'>&nbsp;</td>
   <td id= '9' onclick='SetColor( 9)'>&nbsp;</td>
   <td id='10' onclick='SetColor(10)'>&nbsp;</td>
   <td id='11' onclick='SetColor(11)'>&nbsp;</td>
   <td><button>Check</button></td>
   <td class='answer_spot'>&nbsp;</td>
   <td class='answer_color'>&nbsp;</td>
  </tr>

  <tr>
   <td id='12' onclick='SetColor(12)'>&nbsp;</td>
   <td id='13' onclick='SetColor(13)'>&nbsp;</td>
   <td id='14' onclick='SetColor(14)'>&nbsp;</td>
   <td id='15' onclick='SetColor(15)'>&nbsp;</td>
   <td><button>Check</button></td>
   <td class='answer_spot'>&nbsp;</td>
   <td class='answer_color'>&nbsp;</td>
  </tr>
<!-- ![6+]! -->

  <tr>
   <td id= '0' onclick='SetColor( 0)'>&nbsp;</td>
   <td id= '1' onclick='SetColor( 1)'>&nbsp;</td>
   <td id= '2' onclick='SetColor( 2)'>&nbsp;</td>
   <td id= '3' onclick='SetColor( 3)'>&nbsp;</td>
   <td id='b0'><button onclick='Eval( 0)'>Check</button></td>
   <td id='r0' class='answer_spot'>&nbsp;</td>
   <td id='c0' class='answer_color'>&nbsp;</td>
  </tr>

  <tr>
   <td id= '4' onclick='SetColor( 4)'>&nbsp;</td>
   <td id= '5' onclick='SetColor( 5)'>&nbsp;</td>
   <td id= '6' onclick='SetColor( 6)'>&nbsp;</td>
   <td id= '7' onclick='SetColor( 7)'>&nbsp;</td>
   <td id='b1'><button onclick='Eval( 1)'>Check</button></td>
   <td id='r1' class='answer_spot'>&nbsp;</td>
   <td id='c1' class='answer_color'>&nbsp;</td>
  </tr>

  <tr>
   <td id= '8' onclick='SetColor( 8)'>&nbsp;</td>
   <td id= '9' onclick='SetColor( 9)'>&nbsp;</td>
   <td id='10' onclick='SetColor(10)'>&nbsp;</td>
   <td id='11' onclick='SetColor(11)'>&nbsp;</td>
   <td id='b2'><button onclick='Eval( 2)'>Check</button></td>
   <td id='r2' class='answer_spot'>&nbsp;</td>
   <td id='c2' class='answer_color'>&nbsp;</td>
  </tr>

  <tr>
   <td id='12' onclick='SetColor(12)'>&nbsp;</td>
   <td id='13' onclick='SetColor(13)'>&nbsp;</td>
   <td id='14' onclick='SetColor(14)'>&nbsp;</td>
   <td id='15' onclick='SetColor(15)'>&nbsp;</td>
   <td id='b3'><button onclick='Eval( 3)'>Check</button></td>
   <td id='r3' class='answer_spot'>&nbsp;</td>
   <td id='c3' class='answer_color'>&nbsp;</td>
  </tr>
<!-- ![6+]! -->
  <tr>
   <td id='16' onclick='SetColor(16)'>&nbsp;</td>
   <td id='17' onclick='SetColor(17)'>&nbsp;</td>
   <td id='18' onclick='SetColor(18)'>&nbsp;</td>
   <td id='19' onclick='SetColor(19)'>&nbsp;</td>
   <td id='b4'><button onclick='Eval( 4)'>Check</button></td>
   <td id='r4' class='answer_spot'>&nbsp;</td>
   <td id='c4' class='answer_color'>&nbsp;</td>
  </tr>

  <tr>
   <td id='20' onclick='SetColor(20)'>&nbsp;</td>
   <td id='21' onclick='SetColor(21)'>&nbsp;</td>
   <td id='22' onclick='SetColor(22)'>&nbsp;</td>
   <td id='23' onclick='SetColor(23)'>&nbsp;</td>
   <td id='b5'><button onclick='Eval( 5)'>Check</button></td>
   <td id='r5' class='answer_spot'>&nbsp;</td>
   <td id='c5' class='answer_color'>&nbsp;</td>
  </tr>

  <tr>
   <td id='24' onclick='SetColor(24)'>&nbsp;</td>
   <td id='25' onclick='SetColor(25)'>&nbsp;</td>
   <td id='26' onclick='SetColor(26)'>&nbsp;</td>
   <td id='27' onclick='SetColor(27)'>&nbsp;</td>
   <td id='b6'><button onclick='Eval( 6)'>Check</button></td>
   <td id='r6' class='answer_spot'>&nbsp;</td>
   <td id='c6' class='answer_color'>&nbsp;</td>
  </tr>

  <tr>
   <td id='28' onclick='SetColor(28)'>&nbsp;</td>
   <td id='29' onclick='SetColor(29)'>&nbsp;</td>
   <td id='30' onclick='SetColor(30)'>&nbsp;</td>
   <td id='31' onclick='SetColor(31)'>&nbsp;</td>
   <td id='b7'><button onclick='Eval( 7)'>Check</button></td>
   <td id='r7' class='answer_spot'>&nbsp;</td>
   <td id='c7' class='answer_color'>&nbsp;</td>
  </tr>

  <tr>
   <td id='32' onclick='SetColor(32)'>&nbsp;</td>
   <td id='33' onclick='SetColor(33)'>&nbsp;</td>
   <td id='34' onclick='SetColor(34)'>&nbsp;</td>
   <td id='35' onclick='SetColor(35)'>&nbsp;</td>
   <td id='b8'><button onclick='Eval( 8)'>Check</button></td>
   <td id='r8' class='answer_spot'>&nbsp;</td>
   <td id='c8' class='answer_color'>&nbsp;</td>
  </tr>

  <tr>
   <td id='36' onclick='SetColor(36)'>&nbsp;</td>
   <td id='37' onclick='SetColor(37)'>&nbsp;</td>
   <td id='38' onclick='SetColor(38)'>&nbsp;</td>
   <td id='39' onclick='SetColor(39)'>&nbsp;</td>
   <td id='b9'><button onclick='Eval( 9)'>Check</button></td>
   <td id='r9' class='answer_spot'>&nbsp;</td>
   <td id='c9' class='answer_color'>&nbsp;</td>
  </tr>
 <!-- ![5+]! -->
  <tr id='code' class='hide'>
   <td id='a0'>&nbsp;</td>
   <td id='a1'>&nbsp;</td>
   <td id='a2'>&nbsp;</td>
   <td id='a3'>&nbsp;</td>
   <td></td>
   <td></td>
   <td></td>
 <!-- ![1+]! -->
  </tr>
 </table>
 
 <!-- ![4+]! -->
 <div class='sel'>
  <form name='SetColorColor'>
   <p>Select a Color </p>
   <label for='c1' class='c1'>
    <input type='radio' name='Color' value='c1' checked>&nbsp;
   </label>

   <label for='c2' class='c2'>
    <input type='radio' name='Color' value='c2'>&nbsp;
   </label>

   <label for='c3' class='c3'>
    <input type='radio' name='Color' value='c3'>&nbsp;
   </label>

   <label for='c4' class='c4'>
    <input type='radio' name='Color' value='c4'>&nbsp;
   </label>

   <label for='c5' class='c5'>
    <input type='radio' name='Color' value='c5'>&nbsp;
   </label>

   <label for='c6' class='c6'>
    <input type='radio' name='Color' value='c6'>&nbsp;
   </label>

  </form>
 </div>
</div>

<!-- ![8+]! -->
<details><summary>Help</summary>
<p>This version of Mastermind is single player a code-breaking game (see
<a href= "https://en.wikipedia.org/wiki/Mastermind_(board_game)">Wikipedia: Mastermind</a>).</p>

<p>Here computer creates a hidden random code of four colors. The code may contain a given color more than once. You have 10 tries to guess the code.</p>

<p>To submit your guess first select a color in the row below the game board, then select a square in the first row of the game board. The square will be colored with the selected color. Continue to make the other three color guesses.</p>

<p>When you completed a row, press the <button>Check</button> of that row. The computer will tell you in the pink square how many of your guessed squares have the <em>right color</em> in the <em>right spot</em>, and in the gray field how many have the right color, but in the <em>wrong spot</em>.</p>

<p>Learn from the answer for each row to refine your guess for the next row, until you broke the code (that is have guessed all for colors correctly). The computer will then reveal the code.</p>

<p>(If you are impatient or confused, you can press the <button>Reveal</button> to end the game and check the code.)</p>
</details>
<!-- ![0+]! -->
</body>
<!-- _______________________________________________________________ -->
</html>
<!-- ![7]! -->
<!-- ![0+]! --> 
<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <title>15sqr/$STREAM$</title>
<!-- _______________________________________________________________ -->
<style>
/* ![2+]! */
h1 {
 font-family: "Helvetica";
 font-size:    18pt;
 margin-left:  10pt;
 color:        navy; }

table {
 margin-left:  20pt;
 font-family:  "Courier New";
 font-weight:  bold;
 font-size:    18pt;
 border-collapse: collapse;
 border:       1px solid black;
}

td {
 height:       2em;
 width:        2em;
 text-align:   center;
 padding:      4px;
 margin:       0px;
 border-collapse: collapse;
 border:       1px solid black;
}

/* ![3+]! */
.free {
 background-color: lightgray;
 color: lightgray;
}
/* ![0+]! */
</style>

<!-- _______________________________________________________________ -->
<script>
// ![4+]!
// Global Variables
// ![6+]!
let iter=0;
// ![4+]!

let st= [];
 st[1] = [2,5];         st[2] = [1,3,6];
 st[3] = [2,4,7];       st[4] = [3,8];
 st[5] = [1,6,9];       st[6] = [2,5,7,10]; 
 st[7] = [3,6,8,11];    st[8] = [4,7,12];
 st[9] = [5,10,13];    st[10] = [6,9,11,14]; 
st[11] = [7,10,12,15]; st[12] = [16,11,8];
st[13] = [9,14];       st[14] = [10,13,15]; 
st[15] = [11,14,16];   st[16] = [12,15];

function Move(id) {
 let cval = document.getElementById(id.toString()).innerHTML;
 for ( let jj=0; jj<st[id].length; jj++ ) {
  let cc = st[id][jj];
  let cv = document.getElementById(cc.toString()).innerHTML;
  if ( cv === "0" ) {
// ![6+]!
   iter++;
// ![4+]!
   document.getElementById(cc.toString()).innerHTML = cval;
   document.getElementById(cc.toString()).setAttribute("class","full");
   document.getElementById(id.toString()).innerHTML = "0";
   document.getElementById(id.toString()).setAttribute("class","free");
  }
 }
// ![6+]!
 document.getElementById("ITER").innerHTML = "Number of Moves: " + iter;
// ![4+]!
}

// ![5+]!
function randomizeGame() {
 let z = 16;
 for ( let j=0; j<800; j++ ) {
  let i = Math.floor(Math.random() * st[z].length);
  let nxtPosition = st[z][i]
  Move(nxtPosition);
  z = nxtPosition;
 }
// ![6+]! 
 iter = 0;
 document.getElementById("ITER").innerHTML = "Number of Moves: 0";
// ![5+]!
}
// ![0+]!
</script>
</head>
<!-- _______________________________________________________________ -->
<!-- ![0-4]! 
<body>
<!-- ![5+]! -->
<body onload="randomizeGame()">
<!-- ![0+]! -->
<h1>15 Squares Puzzle Game</h1>

<!-- ![1,2]!
<table>
<tr>
  <td>1</td>
  <td>2</td>
  <td>3</td>
  <td>4</td>
</tr>
<tr>
  <td>5</td>
  <td>6</td>
  <td>7</td>
  <td>8</td>
</tr>
<tr>
  <td>9</td>
  <td>10</td>
  <td>11</td>
  <td>12</td>
</tr>
<tr>
  <td>13</td>
  <td>14</td>
  <td>15</td>
  <td>0</td>
</tr>
</table>
<!-- ![3+]! -->
<table>
<tr>
  <td id= "1" onclick='Move( 1)' class="full">1</td>
  <td id= "2" onclick='Move( 2)' class="full">2</td>
  <td id= "3" onclick='Move( 3)' class="full">3</td>
  <td id= "4" onclick='Move( 4)' class="full">4</td>
</tr>
<tr>
  <td id= "5" onclick='Move( 5)' class="full">5</td>
  <td id= "6" onclick='Move( 6)' class="full">6</td>
  <td id= "7" onclick='Move( 7)' class="full">7</td>
  <td id= "8" onclick='Move( 8)' class="full">8</td>
</tr>
<tr>
  <td id= "9" onclick='Move( 9)' class="full">9</td>
  <td id="10" onclick='Move(10)' class="full">10</td>
  <td id="11" onclick='Move(11)' class="full">11</td>
  <td id="12" onclick='Move(12)' class="full">12</td>
</tr>
<tr>
  <td id="13" onclick='Move(13)' class="full">13</td>
  <td id="14" onclick='Move(14)' class="full">14</td>
  <td id="15" onclick='Move(15)' class="full">15</td>
  <td id="16" onclick='Move(16)' class="free">0</td>
</tr>
</table>
<!-- ![6+]! -->
<p id="ITER"></p>
<!-- ![0+]! -->

</body>
<!-- _______________________________________________________________ -->
</html>